cmake_minimum_required (VERSION 2.8.6)
PROJECT (HDFJAVA_NCSA_HDF_OBJECT_FITS Java)

SET (CMAKE_VERBOSE_MAKEFILE 1)

INCLUDE_DIRECTORIES (
    ${HDFJAVA_NCSA_HDF_OBJECT_FITS_SOURCE_DIR}
    ${HDFJAVA_NCSA_HDF_OBJECT_FITS_BINARY_DIR}
)

SET (HDFJAVA_NCSA_HDF_OBJECT_FITS_SRCS
    FitsDataset.java
    FitsDatatype.java
    FitsFile.java
    FitsGroup.java
)

INCLUDE_DIRECTORIES (${CMAKE_CURRENT_BINARY_DIR}/CMakeFiles/${HDFJAVA_NCSA_FITS_LIB_CORENAME}.dir/ncsa/hdf/object/fits)

FILE (WRITE ${PROJECT_BINARY_DIR}/Manifest.txt
"
"
)

SET (CMAKE_JAVA_INCLUDE_PATH "${${HDFJAVA_NCSA_OBJECT_LIB_TARGET}_JAR_FILE};${HDFJAVA_LIB_DIR}/fits.jar")

ADD_JAR (${HDFJAVA_NCSA_FITS_LIB_TARGET} ${PROJECT_BINARY_DIR}/Manifest.txt ${HDFJAVA_NCSA_HDF_OBJECT_FITS_SRCS})
INSTALL_JAR (${HDFJAVA_NCSA_FITS_LIB_TARGET} ${HJAVA_INSTALL_LIB_DIR} libraries)

GET_TARGET_PROPERTY(${HDFJAVA_NCSA_FITS_LIB_TARGET}_JAR_FILE ${HDFJAVA_NCSA_FITS_LIB_TARGET} JAR_FILE)
SET_GLOBAL_VARIABLE (HDFJAVA_HDFVIEWJAR_TO_EXPORT "${HDFJAVA_HDFVIEWJAR_TO_EXPORT};${${HDFJAVA_NCSA_FITS_LIB_TARGET}_JAR_FILE};${HDFJAVA_LIB_DIR}/fits.jar")
SET_GLOBAL_VARIABLE (HDFVIEW_OPTIONS_INCLUDE_PATH "${HDFVIEW_OPTIONS_INCLUDE_PATH};${${HDFJAVA_NCSA_OBJECT_LIB_TARGET}_JAR_FILE};${HDFJAVA_LIB_DIR}/fits.jar")

ADD_DEPENDENCIES (${HDFJAVA_NCSA_FITS_LIB_TARGET} ${HDFJAVA_NCSA_OBJECT_LIB_TARGET})
